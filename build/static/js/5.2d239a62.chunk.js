(this.webpackJsonpdmown=this.webpackJsonpdmown||[]).push([[5],{102:function(n,e,t){"use strict";var r,i,c,a,o=t(9),s=t(15),u=t(96),l=t(0),b=t(33),d=t(34),p=t(18),f=t(97),x=Object(d.b)(f.e)(r||(r=Object(b.a)(["\n   padding: 5px;\n"]))),j=Object(d.c)(i||(i=Object(b.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),h=d.b.img.attrs({src:"".concat(p.f)})(c||(c=Object(b.a)(["\n  width: 64px; \n  height: 64px;\n  animation: "," 1.5s infinite linear;\n"])),j),g=d.b.div(a||(a=Object(b.a)(["\n  display:flex;\n  width:100%;\n  justify-content:center\n"]))),m=t(2);e.a=function(n){var e=n.children,t=n.loadMoreData,r=n.loadMorePage,i=Object(l.useState)(!1),c=Object(u.a)(i,2),a=c[0],b=c[1],d=Object(l.useRef)(null),p=Object(l.useRef)(!0);Object(l.useEffect)((function(){return function(){p.current=!1}}),[]),Object(l.useEffect)((function(){if(!(r<1)){var n=function(){var n=Object(s.a)(Object(o.a)().mark((function n(){var e,r,i,c;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=d.current,r=e.scrollTop,i=e.clientHeight,c=e.scrollHeight,!(r+i+10>=c)||a){n.next=7;break}return b(!0),n.next=6,t();case 6:setTimeout((function(){p.current&&b(!1)}),300);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e=d.current;return e.addEventListener("scroll",n),function(){e.removeEventListener("scroll",n)}}}),[r,a]);var f=Object(l.useMemo)((function(){return-1===r?Object(m.jsx)(g,{children:"-END-"}):a?Object(m.jsx)(g,{children:Object(m.jsx)(h,{})}):null}),[a,r]);return Object(m.jsxs)(x,{ref:d,children:[e,f]})}},111:function(n,e,t){"use strict";t.d(e,"a",(function(){return d}));var r=t(96),i=t(25),c=t(5);function a(n,e){if(null==n)return{};var t,r,i=Object(c.a)(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}var o=t(0),s=t.n(o),u=["count","wrapper","className","containerClassName","containerTestId","circle","style"],l=s.a.createContext({}),b=!0;function d(n){for(var e,t,c,o=n.count,d=void 0===o?1:o,p=n.wrapper,f=n.className,x=n.containerClassName,j=n.containerTestId,h=n.circle,g=void 0!==h&&h,m=n.style,O=a(n,u),v=s.a.useContext(l),y=Object(i.a)({},O),w=0,k=Object.entries(O);w<k.length;w++){var N=Object(r.a)(k[w],2),T=N[0];"undefined"===typeof N[1]&&delete y[T]}var E=Object(i.a)(Object(i.a)(Object(i.a)({},v),y),{},{circle:g}),S=Object(i.a)(Object(i.a)({},m),function(n){var e=n.baseColor,t=n.highlightColor,r=n.width,i=n.height,c=n.borderRadius,a=n.circle,o=n.direction,s=n.duration,u=n.enableAnimation,l=void 0===u?b:u,d={};return"rtl"===o&&(d["--animation-direction"]="reverse"),"number"===typeof s&&(d["--animation-duration"]="".concat(s,"s")),l||(d["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(d.width=r),"string"!==typeof i&&"number"!==typeof i||(d.height=i),"string"!==typeof c&&"number"!==typeof c||(d.borderRadius=c),a&&(d.borderRadius="50%"),"undefined"!==typeof e&&(d["--base-color"]=e),"undefined"!==typeof t&&(d["--highlight-color"]=t),d}(E)),P="react-loading-skeleton";f&&(P+=" ".concat(f));for(var R=null!==(e=E.inline)&&void 0!==e&&e,C=[],M=Math.ceil(d),I=0;I<M;I++){var z=S;if(M>d&&I===M-1){var F=null!==(t=z.width)&&void 0!==t?t:"100%",W=d%1,D="number"===typeof F?F*W:"calc(".concat(F," * ").concat(W,")");z=Object(i.a)(Object(i.a)({},z),{},{width:D})}var L=s.a.createElement("span",{className:P,style:z,key:I},"\u200c");R?C.push(L):C.push(s.a.createElement(s.a.Fragment,{key:I},L,s.a.createElement("br",null)))}return s.a.createElement("span",{className:x,"data-testid":j,"aria-live":"polite","aria-busy":null!==(c=E.enableAnimation)&&void 0!==c?c:b},p?C.map((function(n,e){return s.a.createElement(p,{key:e},n)})):C)}},132:function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},133:function(n,e,t){var r=t(146),i="object"==typeof self&&self&&self.Object===Object&&self,c=r||i||Function("return this")();n.exports=c},134:function(n,e,t){var r=t(133).Symbol;n.exports=r},144:function(n,e,t){var r=t(132),i=t(145),c=t(147),a=Math.max,o=Math.min;n.exports=function(n,e,t){var s,u,l,b,d,p,f=0,x=!1,j=!1,h=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function g(e){var t=s,r=u;return s=u=void 0,f=e,b=n.apply(r,t)}function m(n){var t=n-p;return void 0===p||t>=e||t<0||j&&n-f>=l}function O(){var n=i();if(m(n))return v(n);d=setTimeout(O,function(n){var t=e-(n-p);return j?o(t,l-(n-f)):t}(n))}function v(n){return d=void 0,h&&s?g(n):(s=u=void 0,b)}function y(){var n=i(),t=m(n);if(s=arguments,u=this,p=n,t){if(void 0===d)return function(n){return f=n,d=setTimeout(O,e),x?g(n):b}(p);if(j)return clearTimeout(d),d=setTimeout(O,e),g(p)}return void 0===d&&(d=setTimeout(O,e)),b}return e=c(e)||0,r(t)&&(x=!!t.leading,l=(j="maxWait"in t)?a(c(t.maxWait)||0,e):l,h="trailing"in t?!!t.trailing:h),y.cancel=function(){void 0!==d&&clearTimeout(d),f=0,s=p=u=d=void 0},y.flush=function(){return void 0===d?b:v(i())},y}},145:function(n,e,t){var r=t(133);n.exports=function(){return r.Date.now()}},146:function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(this,t(61))},147:function(n,e,t){var r=t(148),i=t(132),c=t(150),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(c(n))return NaN;if(i(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=i(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=r(n);var t=o.test(n);return t||s.test(n)?u(n.slice(2),t?2:8):a.test(n)?NaN:+n}},148:function(n,e,t){var r=t(149),i=/^\s+/;n.exports=function(n){return n?n.slice(0,r(n)+1).replace(i,""):n}},149:function(n,e){var t=/\s/;n.exports=function(n){for(var e=n.length;e--&&t.test(n.charAt(e)););return e}},150:function(n,e,t){var r=t(151),i=t(154);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},151:function(n,e,t){var r=t(134),i=t(152),c=t(153),a=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?i(n):c(n)}},152:function(n,e,t){var r=t(134),i=Object.prototype,c=i.hasOwnProperty,a=i.toString,o=r?r.toStringTag:void 0;n.exports=function(n){var e=c.call(n,o),t=n[o];try{n[o]=void 0;var r=!0}catch(s){}var i=a.call(n);return r&&(e?n[o]=t:delete n[o]),i}},153:function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},154:function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},185:function(n,e,t){"use strict";t.r(e);var r,i,c,a,o,s,u,l,b=t(9),d=t(15),p=t(96),f=t(0),x=t.n(f),j=t(35),h=t(111),g=t(97),m=t(38),O=t(99),v=t(102),y=t(33),w=t(34),k=t(98),N=t(18),T=w.b.div(r||(r=Object(y.a)(["\n    display:flex;\n    height: 100%;\n    align-items: center;\n    justify-content: space-around;\n    padding:0 20px 0 20px;\n"]))),E=w.b.input(i||(i=Object(y.a)(["\n    background-color: #fefcfa;\n    border-radius: 40px 0 0 40px;\n    font-family: inherit;\n    font-size: inherit;\n    height: 32px;\n    outline: 0;\n    padding:0;\n    position: relative;\n    width: 100%;\n    color:#888897;\n    padding-left: 20px;\n    padding-right: 20px;\n    border: 2px solid #9b7eaa;\n    width100%;\n"]))),S=w.b.div(c||(c=Object(y.a)(["\n    width:75px;\n    height:32px;\n    border: 2px solid #9b7eaa;\n    border-radius: 0 40px 40px 0;\n    background-color: #e3cbcb;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]))),P=Object(w.b)(k.c)(a||(a=Object(y.a)(["\n    transform: scale(0.42);\n    background-position: -94px -10px;\n"]))),R=w.b.div(o||(o=Object(y.a)(["\n    display:flex;\n    flex-wrap: nowrap;\n    align-items: flex-start;\n    justify-content: flex-start;\n    width: 100%;\n    padding:3px 0 3px 0;\n    border-radius:3px;\n    margin-bottom:5px;\n    background: #d0c16f82;\n"]))),C=w.b.div(s||(s=Object(y.a)(["\n    border-radius: 3px;\n    overflow: hidden;\n    position: relative;\n    aspect-ratio: 3/4;\n    width:24%;\n    box-shadow: rgba(0,0,0,0.2) 0px 4px 2px -2px, rgba(0,0,0,0.14) 0px 2px 2px 1px, rgba(0,0,0,0.12) 0px 2px 5px 1px;\n    margin:0 3px 0 3px;\n    background-color:white;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: center center;\n    \n    & img {\n        width: 100%;\n    }\n    \n    @media (min-width: 540px) {\n        width:17%;\n    }\n    \n    @media (min-width: 1024px) {\n        width:12%;\n    }\n"])),N.a),M=w.b.ul(u||(u=Object(y.a)(["\n    flex:0.96;\n    color:white;\n    font-size:12px;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    \n    & > li {\n        margin:5px 0 5px 0;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;   \n    }\n    \n    & > li.title{\n        font-size: 14px;\n        color: #444444;\n    }\n    \n    & > li > label{\n        padding: 2px;\n        background: #151515eb;\n        display: inline-flex;\n        border-radius: 2px;\n        align-items: center;\n        justify-content: center;\n        margin-right: 5px;\n    }\n    \n    & > li > .tag{\n        padding: 2px;\n        margin-right: 4px;\n        background: rgb(42 55 150 / 65%);\n        display: inline-flex;\n        border-radius: 2px;\n        align-items: center;\n        justify-content: center;\n    }\n"]))),I=w.b.img.attrs({src:"".concat(N.d)})(l||(l=Object(y.a)(["\n        width:120px;\n        margin: 10px auto;\n        display: flex;\n"]))),z=t(23),F=t(144),W=t.n(F),D=t(115),L=t(39),A=t(3),$=t(2);e.default=Object(j.b)((function(n){return{searchResult:n.search.get("searchResult"),searchPage:n.search.get("searchPage"),searchWords:n.search.get("searchWords")}}),(function(n){return{getSearchResult:function(){var e=Object(d.a)(Object(b.a)().mark((function e(t,r){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Object(z.c)(t,r));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),clearSearch:function(){return n(Object(z.b)())},setCurrentPosition:function(e){return n(Object(m.b)(e))}}}))((function(n){var e=n.searchResult,t=n.searchPage,r=n.searchWords,i=n.setCurrentPosition,c=n.getSearchResult,a=n.clearSearch,o=Object(f.useState)(!0),s=Object(p.a)(o,2),u=s[0],l=s[1],j=W()(c,1e3),m=Object(f.useRef)(null);Object(f.useEffect)((function(){i("search"),0===t?Object(d.a)(Object(b.a)().mark((function n(){return Object(b.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c(r,t);case 2:setTimeout((function(){return l(!1)}),300);case 3:case"end":return n.stop()}}),n)})))():l(!1)}),[]);var y=function(){var n=Object(d.a)(Object(b.a)().mark((function n(){return Object(b.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t>-1)){n.next=3;break}return n.next=3,c(r,t,!0);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),w=Object(A.e)(),k=function(){var n=Object(d.a)(Object(b.a)().mark((function n(){var e;return Object(b.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((e=m.current.value).trim()!==r){n.next=3;break}return n.abrupt("return");case 3:if(""!==e.trim()){n.next=5;break}return n.abrupt("return");case 5:return a(),l(!0),n.next=9,j(e,0);case 9:setTimeout((function(){return l(!1)}),700);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object($.jsxs)(g.c,{style:{gridTemplateRows:"40px auto 60px"},children:[Object($.jsxs)(T,{children:[Object($.jsx)(E,{placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u5b57",ref:m}),Object($.jsx)(S,{onClick:k,children:Object($.jsx)(P,{})})]}),Object($.jsx)(v.a,{loadMoreData:y,loadMorePage:t,children:u?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(h.a,{variant:"rect",height:135}),Object($.jsx)(h.a,{variant:"rect",height:135}),Object($.jsx)(h.a,{variant:"rect",height:135})]}):-1===t&&e.isEmpty()?Object($.jsx)(I,{}):Object($.jsx)($.Fragment,{children:e.map((function(n){return Object($.jsx)(x.a.Fragment,{children:Object($.jsxs)(R,{onClick:function(){return e=n.id,void w.push("/comic/".concat(e));var e},children:[Object($.jsx)(C,{children:Object($.jsx)(D.LazyLoadImage,{src:n.cover,alt:"Image",effect:"blur",placeholderSrc:L.a})}),Object($.jsxs)(M,{children:[Object($.jsx)("li",{className:"title",children:n.title}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:"\u70ed \u5ea6"}),n.popularity]}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:"\u6807 \u7b7e"}),Object.entries(n.label).map((function(n){var e=Object(p.a)(n,2),t=e[0],r=e[1];return Object($.jsx)("span",{className:"tag",children:r},"tag-"+t)}))]})]})]})},n.id)}))})}),Object($.jsx)(O.a,{})]})}))},97:function(n,e,t){"use strict";t.d(e,"e",(function(){return p})),t.d(e,"c",(function(){return f})),t.d(e,"b",(function(){return x})),t.d(e,"f",(function(){return j})),t.d(e,"a",(function(){return h})),t.d(e,"d",(function(){return g}));var r,i,c,a,o,s,u=t(33),l=t(34),b=t(18),d=t(98),p=l.b.div(r||(r=Object(u.a)(["\n    overflow-y: scroll;\n    &::-webkit-scrollbar {\n        width: 0;\n    }\n    \n    &::-webkit-scrollbar-track {\n        background-color: transparent;\n    }\n    \n    &::-webkit-scrollbar-thumb {\n        background-color: rgba(0, 0, 0, 0);\n    }\n    scrollbar-width: thin;\n    scrollbar-color: transparent transparent;\n    scrollbar-width: thin;\n    scrollbar-color: transparent;\n"]))),f=l.b.div(i||(i=Object(u.a)(["\n    height: 100%;  \n    width: 100%;\n    position: absolute;  \n    top: 0px;  \n    bottom: 0px;   \n    background-size: cover;\n    overflow:hidden;\n    display: grid;\n    grid-template-rows: auto 60px;\n    grid-template-columns:100%;\n    background: #faefde;\n \n    @media (min-width: 1024px) {\n        width: 1024px;\n    }\n"]))),x=l.b.div(c||(c=Object(u.a)(["\n    height: 100%;  \n    width: 100%;\n    position: absolute;  \n    top: 0px;  \n    bottom: 0px;   \n    background-size: cover;\n    overflow:hidden;\n    display: flex;\n    flex-direction: column;\n    background: #faefde;\n \n    @media (min-width: 1024px) {\n        width: 1024px;\n    }\n"]))),j=l.b.div(a||(a=Object(u.a)(["\n    display:flex;\n    height: 40px;\n    align-items: center;\n    justify-content: space-around;\n    background:white;\n    padding:0 10px 0 10px;\n    \n    & > a {\n        display: flex;\n        align-items: center;\n        height: 32px;\n    }\n"]))),h=l.b.img.attrs({src:"".concat(b.c)})(o||(o=Object(u.a)(["\n    width:24px;\n"]))),g=Object(l.b)(d.c)(s||(s=Object(u.a)(["\n    transform: scale(0.48);\n    background-position: 0 -10px;\n"])))},98:function(n,e,t){"use strict";t.d(e,"b",(function(){return u})),t.d(e,"a",(function(){return l})),t.d(e,"c",(function(){return b}));var r,i,c,a=t(33),o=t(34),s=t(18),u=o.b.div(r||(r=Object(a.a)(["\n\n"]))),l=o.b.div(i||(i=Object(a.a)(["\n    display:flex;\n    background: #ffffffd6;\n    height: 100%;\n    align-items: center;\n    justify-content: space-around;\n"]))),b=o.b.div(c||(c=Object(a.a)(["\n    width: 64px;\n    height: 64px;\n    overflow: hidden;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-align-items: center;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    background-repeat: no-repeat;\n    transform: scale(0.64);\n    background-image: url(",");\n    \n    &.home{\n        background-position: -10px -10px;\n    }\n    \n    &.home-in{\n        background-image: url(",");\n    }\n    \n    &.menu{\n        background-position: -178px -10px;\n    }\n    \n    &.menu-in{\n        background-position: -178px -94px;\n    }\n    \n    &.search{\n        background-position: -94px -10px;\n    }\n    \n    &.search-in{\n        background-image: url(",");\n    }\n    \n    &.ibook{\n        background-position: -10px -94px;\n    }\n    \n    &.ibook-in{\n        background-position: -94px -94px;\n    }\n    \n    &.me{\n        background-position: -10px -178px;\n    }\n    \n    &.me-in{\n        background-position: -94px -178px;\n    }\n    \n    &.who{\n        background-position: -178px -178px;\n    }\n    \n    @media (max-width: 320px) {\n        transform: scale(0.42);\n    }\n"])),s.e,s.a,s.b)},99:function(n,e,t){"use strict";var r=t(0),i=t.n(r),c=t(98),a=t(35),o=t(37),s=t(2),u=i.a.memo((function(n){var e=n.currentPosition,t={display:"flex",alignItems:"center",height:"80%"};return Object(s.jsx)(c.b,{children:Object(s.jsxs)(c.a,{children:[Object(s.jsx)(o.c,{to:"/",exact:!0,style:t,children:Object(s.jsx)(c.c,{className:"home"===e?"home-in":"home"})}),Object(s.jsx)(o.c,{to:"/menu",exact:!0,style:t,children:Object(s.jsx)(c.c,{className:"menu"===e?"menu-in":"menu"})}),Object(s.jsx)(o.c,{to:"/search",exact:!0,style:t,children:Object(s.jsx)(c.c,{className:"search"===e?"search-in":"search"})}),Object(s.jsx)(o.c,{to:"/ibook",exact:!0,style:t,children:Object(s.jsx)(c.c,{className:"ibook"===e?"ibook-in":"ibook"})}),Object(s.jsx)(o.c,{to:"/me",exact:!0,style:t,children:Object(s.jsx)(c.c,{className:"me"===e?"me-in":"me"})})]})})}));e.a=Object(a.b)((function(n){return{currentPosition:n.hall.get("currentPosition")}}))(u)}}]);
//# sourceMappingURL=5.2d239a62.chunk.js.map